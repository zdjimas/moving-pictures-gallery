 <!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Space & Universe — Virtual Art Gallery of CJ Murphy</title>

<!-- TikTok embed loader for lightbox -->
<script async src="https://www.tiktok.com/embed.js"></script>

<style>
  :root{
    --cosmos:#0b1020; --nebula1:#14213d; --nebula2:#1f2e5a;
    --frame:#0f1219; --mat:#111827; --mat-edge:#2a2f3a;
    --tile-shadow: 0 18px 40px rgba(0,0,0,.35);
    --ink:#e8f2ff; --muted:#bbd7ff; --subtle:#8fb6ff;
  }
  *{box-sizing:border-box}
  body{
    margin:0; color:var(--ink);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    background:
      radial-gradient(1200px 800px at 70% 20%, rgba(117,80,255,.15), transparent 60%),
      radial-gradient(1000px 700px at 20% 70%, rgba(0,180,255,.12), transparent 65%),
      radial-gradient(900px 600px at 80% 80%, rgba(255,100,180,.10), transparent 65%),
      linear-gradient(180deg, var(--nebula1), var(--cosmos));
    min-height:100svh;
  }
  body::before{
    content:""; position:fixed; inset:0; pointer-events:none; opacity:.6;
    background:
      radial-gradient(1px 1px at 10% 15%, #fff 50%, transparent 52%),
      radial-gradient(1px 1px at 30% 40%, #fff 50%, transparent 52%),
      radial-gradient(1px 1px at 55% 20%, #fff 50%, transparent 52%),
      radial-gradient(1px 1px at 70% 65%, #fff 50%, transparent 52%),
      radial-gradient(1px 1px at 85% 35%, #fff 50%, transparent 52%),
      radial-gradient(1px 1px at 25% 80%, #fff 50%, transparent 52%),
      radial-gradient(1px 1px at 60% 85%, #fff 50%, transparent 52%);
    filter: drop-shadow(0 0 4px #9ad8ff);
  }

  header{ text-align:center; padding:28px 16px 6px }
  header h1{ margin:0; font-size:clamp(22px,3.5vw,34px); letter-spacing:.3px }
  header p{ margin:6px 0 0; color:var(--muted) }
  .back-link{
    display:inline-block; margin:14px auto 28px; padding:10px 18px;
    background:#0e1320; color:#fff; text-decoration:none; border:1px solid #384054;
    border-radius:10px; font-size:.95rem;
  }
  .back-link:hover{ background:#1c2340; color:#d6e4ff; }

  .shell{ max-width:1200px; margin:0 auto; padding:0 18px 72px }
  .cards{ display:grid; grid-template-columns: repeat(auto-fit, minmax(520px, 1fr)); gap:34px }
  .card{ display:grid; grid-template-columns: 380px 1fr; gap:22px; align-items:start }
  @media (max-width: 860px){ .card{ grid-template-columns: 1fr } }

  /* Frame + mat */
  .frame{
    position:relative; display:block; cursor:pointer; text-decoration:none; color:inherit;
    border:6px solid var(--frame); border-radius:18px;
    background:linear-gradient(180deg, #0b0d13, #161a22);
    box-shadow: var(--tile-shadow); overflow:hidden;
    transition: transform .22s ease, box-shadow .22s ease;
  }
  .frame::before{
    content:""; position:absolute; inset:6px; border-radius:14px;
    background: radial-gradient(120% 130% at 50% 50%, var(--mat) 0%, #0d111a 60%);
    box-shadow: inset 0 0 0 1px var(--mat-edge), inset 0 10px 20px rgba(0,0,0,.45);
  }
  .tile{ position:relative; aspect-ratio: 4 / 3; border-radius:12px; overflow:hidden; margin:8px; z-index:1 }
  .tile img{ width:100%; height:100%; object-fit:cover; display:block; transition: transform .25s ease }
  @media (hover:hover){ .frame:hover .tile img{ transform: scale(1.08) } }

  .meta h3{ margin:2px 0 6px; font-size:1.15rem; font-weight:700; color:#fff }
  .meta .sub{ margin:0 0 12px; color:var(--subtle); font-size:.95rem }
  .meta p{ margin:0; color:#d8e6ff; line-height:1.45 }

  /* Lightbox: now supports image OR TikTok embed */
  .lightbox{ position:fixed; inset:0; display:none; place-items:center; background: rgba(3,6,12,.86); z-index:60 }
  .lightbox.open{ display:grid }
  #lightboxContent{ max-width:min(96vw,1600px); max-height:92vh; display:flex; align-items:center; justify-content:center }
  #lightboxContent img{ max-width:100%; max-height:92vh; border-radius:12px; box-shadow:0 24px 80px rgba(0,0,0,.6) }
  .closeBtn{
    position:fixed; top:16px; right:18px; z-index:61;
    background:#0e1320; color:#fff; border:1px solid #384054;
    padding:10px 14px; border-radius:10px; cursor:pointer;
  }
</style>
</head>
<body>
  <header>
    <h1>Space & Universe</h1>
    <p>Modern frames with plaques. Hover to peek; click to open full size or play the video.</p>
    <a href="../index.html" class="back-link">← Return to Lobby Map</a>
  </header>

  <div class="shell">
    <div id="cards" class="cards"></div>
  </div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox" aria-modal="true" role="dialog">
    <button class="closeBtn" id="closeBtn" aria-label="Close">Close ✕</button>
    <div id="lightboxContent"></div>
  </div>

<script>
/*
WORKS can contain either:
- { file: "IMG_0425.PNG", caption?: "...", title?: "..." }  // standard image in img/ subfolder
- { tiktok: "https://www.tiktok.com/t/ZT63YRxNR/", poster: "img/IMG_0422.PNG", title?: "...", caption?: "..." } // opens TikTok in modal
*/
const ROOM = "Space & Universe";
const WORKS = [
  { tiktok: "https://www.tiktok.com/t/ZT63YRxNR/",
    poster: "img/IMG_0422.PNG",
    title: "Nebula Drift — Short Film",
    caption: "A one-minute journey through star-forming clouds. Hosted on TikTok; tap to play." },

  { file: "IMG_0373.PNG" },
  { file: "IMG_0379.PNG" },
  { file: "IMG_0383.PNG" },
  { file: "IMG_0425.PNG" },
  { file: "IMG_7021.PNG" },
  { file: "IMG_7022.PNG" },
  { file: "IMG_7023.PNG" },
  { file: "IMG_7024.PNG" },
  { file: "IMG_7026.PNG" }
];

const DESCRIPTIONS = {
  "IMG_0373.PNG": "A spiral galaxy rendered as a luminous whirlpool — order emerging from cosmic dust.",
  "IMG_0379.PNG": "A tower of gas and stardust rising like a cathedral spire inside a nebula.",
  "IMG_0383.PNG": "Moonlit water reflecting a distant world; Earth seen through a dream."
};

const mount = document.getElementById('cards');

function prettyTitle(s){
  return (s||"")
    .replace(/\.[^.]+$/,'')
    .replace(/[_-]+/g,' ')
    .replace(/\b\w/g,c=>c.toUpperCase())
    .trim() || "Untitled";
}

function makeCard(work){
  const isTikTok = !!work.tiktok;
  const title = work.title || (isTikTok ? "TikTok Video" : prettyTitle(work.file));
  const caption = work.caption || (isTikTok ? "Short film hosted on TikTok. Click to play." : (DESCRIPTIONS[work.file] || "Add commentary for this artwork."));
  const fileLabel = isTikTok ? "TikTok" : work.file;
  const posterSrc = isTikTok ? work.poster : `img/${encodeURIComponent(work.file)}`;

  const card = document.createElement('article');
  card.className = 'card';
  card.innerHTML = `
    <a href="#" class="frame">
      <div class="tile"><img src="${posterSrc}" alt="${title}"></div>
    </a>
    <div class="meta">
      <h3>${title}</h3>
      <p class="sub"><strong>${ROOM}</strong> · <code>${fileLabel || ""}</code></p>
      <p>${caption}</p>
    </div>
  `;

  const frame = card.querySelector('.frame');
  frame.addEventListener('click', (e) => {
    e.preventDefault();
    if (isTikTok) openTikTokInLightbox(work.tiktok);
    else openImageInLightbox(posterSrc, title);
  });

  mount.appendChild(card);
}

for (const w of WORKS) makeCard(w);

/* --- Lightbox controls --- */
const lb = document.getElementById('lightbox');
const content = document.getElementById('lightboxContent');
document.getElementById('closeBtn').addEventListener('click', closeLightbox);
lb.addEventListener('click', (e)=>{ if(e.target === lb) closeLightbox(); });
document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeLightbox(); });

function openImageInLightbox(src, alt){
  content.innerHTML = `<img src="${src}" alt="${alt}">`;
  lb.classList.add('open');
  document.body.style.overflow = 'hidden';
}

function openTikTokInLightbox(url){
  // TikTok blockquote embed
  const videoId = (url.split('/').filter(Boolean).pop() || "").replace(/\D/g,'') || "";
  content.innerHTML = `
    <blockquote class="tiktok-embed" cite="${url}" data-video-id="${videoId}" style="max-width: 605px; min-width: 325px;">
      <section>Loading TikTok…</section>
    </blockquote>`;
  if (window.tiktokEmbedLoad) { try { window.tiktokEmbedLoad(); } catch(_){} }
  lb.classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeLightbox(){
  lb.classList.remove('open');
  content.innerHTML = "";
  document.body.style.overflow = '';
}
</script>
</body>
</html>
