 <!doctype html>
<html lang="en" data-theme="default">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Moving Pictures — Museum Lobby</title>
<meta name="color-scheme" content="dark light" />
<style>
  :root{
    --wall: #111317;
    --text: #e8eaed;
    --muted:#9aa0a6;
    --card: rgba(20,22,25,.75);
    --card-border: rgba(255,255,255,.12);
    --accent:#7fb0ff;
    --frame-gold:#caa64a;
    --frame-ebony:#1a1a1a;
    --frame-brass:#9f9a72;
    --frame-walnut:#6b4b2e;
    --shadow:0 18px 36px rgba(0,0,0,.45);
  }
  [data-theme="louvre"]{
    --wall:#0e0f12; --text:#f3f4f6; --muted:#cfd5dd;
  }
  [data-theme="met"]{
    --wall:#121012; --text:#f2f2f2; --muted:#d7d1d7;
  }
  [data-theme="la"]{
    --wall:#f9f9f9; --text:#111; --muted:#333;
  }

  html,body{
    height:100%;
    margin:0;
    background:var(--wall);
    color:var(--text);
    font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  }
  .wrap{max-width:1300px;margin:0 auto;padding:40px 20px 80px;}
  h1{margin:0 0 6px;font-size:clamp(26px,4.2vw,44px);}
  .sub{color:var(--muted);margin:0 0 28px;}
  .toolbar{display:flex;align-items:center;gap:12px;margin:6px 0 28px;}
  .select{appearance:none;background:var(--card);color:var(--text);
    border:1px solid var(--card-border);padding:8px 36px 8px 12px;
    border-radius:12px;}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(290px,1fr));
        gap:28px 34px;}
  .exhibit{display:grid;grid-template-columns:1fr 1fr;gap:18px;align-items:center;}
  .exhibit.plaque-left{direction:rtl;}
  .exhibit.plaque-left>*{direction:ltr;}
  .plaque{
    background:var(--card);
    border:1px solid var(--card-border);
    border-radius:16px;
    padding:20px 18px;
    box-shadow:var(--shadow);
  }
  .plaque h3{margin:0 0 6px;}
  .plaque p{margin:8px 0 14px;color:var(--muted);}
  .actions{display:flex;gap:10px;flex-wrap:wrap;}
  .btn{
    background:var(--accent);color:#000;
    padding:10px 12px;border-radius:12px;border:none;
    text-decoration:none;font-size:14px;cursor:pointer;
  }
  .frame{
    position:relative;border-radius:18px;padding:18px;
    box-shadow:var(--shadow);
    transform:rotate(var(--tilt,0deg));
    --frame-color: var(--frame-gold);
    background:linear-gradient(#0000 0 0) padding-box,
              linear-gradient(160deg, rgba(255,255,255,.35),
              rgba(255,255,255,.08)) border-box;
    border:10px solid var(--frame-color);
  }
  .frame.finish-ebony { --frame-color: var(--frame-ebony); }
  .frame.finish-brass { --frame-color: var(--frame-brass); }
  .frame.finish-walnut{ --frame-color: var(--frame-walnut); }
  .art{position:relative;overflow:hidden;border-radius:10px;background:#000;aspect-ratio:3/4;}
  .art img,.art video{width:100%;height:100%;object-fit:cover;display:block;}
  .art .tiktok-tag{
    position:absolute;right:12px;bottom:10px;
    background:rgba(0,0,0,.6);color:#fff;font-size:12px;padding:6px 8px;border-radius:8px;
  }
  .lightbox{
    position:fixed;inset:0;background:rgba(0,0,0,.9);
    display:none;align-items:center;justify-content:center;z-index:60;
  }
  .lightbox.open{display:flex;}
  .lightbox video{width:min(92vw,1100px);border-radius:12px;}
  .intro{
    position:fixed;inset:0;z-index:80;display:none;
    align-items:center;justify-content:center;background:#000;
  }
  .intro.open{display:flex;}
  .intro video{width:100%;height:100%;object-fit:cover;}
  .intro .controls{
    position:absolute;right:16px;top:16px;display:flex;gap:10px;
  }
  .intro .controls .btn{background:#111;color:#fff;}
  @media(max-width:820px){
    .exhibit{grid-template-columns:1fr;}
    .exhibit.plaque-left{direction:ltr;}
  }
</style>
</head>
<body>
<main class="wrap">
  <h1>Moving Pictures — Museum Lobby</h1>
  <p class="sub">Each visit rehangs the lobby slightly. Plaques sit left or right, frames tilt and finish vary—just like a living museum.</p>
  <div class="toolbar">
    <label for="venue">Venue:</label>
    <select id="venue" class="select">
      <option value="default">Default</option>
      <option value="louvre">Louvre</option>
      <option value="met">Met</option>
      <option value="la">LA Museum – White Cube</option>
    </select>
  </div>
  <section id="grid" class="grid"></section>
</main>

<div id="lightbox" class="lightbox"><video id="lbVideo" controls playsinline></video></div>

<div id="intro" class="intro">
  <video id="introVideo" src="room-abstract/media/GhoulsDoor.mp4" playsinline></video>
  <div class="controls">
    <button class="btn" id="introMuteBtn">Sound</button>
    <button class="btn" id="introSkipBtn">Skip</button>
  </div>
</div>

<script>
const exhibits=[{
  id:"grudge-dune",
  title:"The Grudge on Dune",
  roomTitle:"Room: Abstracts, Tools & Ghouls",
  desc:"Dark, rebellious remixes—surreal mechanics, ritual light, and riffs re-forged. Enter for the full series.",
  plaqueActions:[{type:"tiktok",href:"https://www.tiktok.com/",label:"Watch on TikTok"}],
  hoverSoundKey:"hoverSound_grudge",
  kind:"tiktok",
  poster:"room-abstract/img/poster-grudge.jpg",
  tiktokHref:"https://www.tiktok.com/",
  enterRoom:{label:"Enter this Room",introVideo:"room-abstract/media/GhoulsDoor.mp4",target:"room-abstract/index.html"}
}];

const $=(q,r=document)=>r.querySelector(q);
const $$=(q,r=document)=>Array.from(r.querySelectorAll(q));
function choose(a){return a[Math.floor(Math.random()*a.length)];}
function randomTilt(){return (Math.random()*2-1).toFixed(2)+"deg";}

const THEME_KEY="mp_theme_v1";
const root=document.documentElement;
const venue=$("#venue");
function applyTheme(n){root.setAttribute("data-theme",n);localStorage.setItem(THEME_KEY,n);}
venue.addEventListener("change",e=>applyTheme(e.target.value));
(function(){const s=localStorage.getItem(THEME_KEY)||"default";applyTheme(s);venue.value=s;})();

const grid=$("#grid");
function render(){
  grid.innerHTML="";
  exhibits.forEach(ex=>{
    const side=Math.random()>.5?"plaque-left":"plaque-right";
    const finish=choose(["finish-ebony","finish-brass","finish-walnut",""]);
    const tilt=randomTilt();
    const el=document.createElement("article");
    el.className=`exhibit ${side}`;
    el.innerHTML=`
      <div class="plaque">
        <h3>${ex.title}</h3>
        <p><strong>${ex.roomTitle}</strong><br/>${ex.desc}</p>
        <div class="actions">
          ${ex.plaqueActions.map(a=>`<a class="btn" href="${a.href}" target="_blank" rel="noopener">${a.label}</a>`).join("")}
          ${ex.enterRoom?`<button class="btn" data-enter="${ex.id}">${ex.enterRoom.label}</button>`:""}
        </div>
      </div>
      <div class="frame ${finish}" style="--tilt:${tilt}">
        <div class="art" data-kind="${ex.kind}" data-href="${ex.tiktokHref}">
          <img alt="" src="${ex.poster}">
          <span class="tiktok-tag">Click to watch on TikTok</span>
        </div>
      </div>`;
    grid.appendChild(el);
  });
  wire();
}
render();

const lightbox=$("#lightbox"),lbVideo=$("#lbVideo");
function wire(){
  $$('.art[data-kind="tiktok"]').forEach(t=>{
    t.addEventListener("click",()=>window.open(t.getAttribute("data-href"),"_blank","noopener"));
  });
  $$('button[data-enter]').forEach(btn=>{
    btn.addEventListener("click",()=>openIntro("room-abstract/media/GhoulsDoor.mp4","room-abstract/index.html"));
  });
}

const intro=$("#intro"),introVideo=$("#introVideo"),
      introMuteBtn=$("#introMuteBtn"),introSkipBtn=$("#introSkipBtn");
let introTarget=null;
function openIntro(src,target){
  introTarget=target;
  introVideo.src=src;
  intro.classList.add("open");
  introVideo.muted=false;
  introVideo.play().catch(()=>{introVideo.muted=true;introVideo.play();});
}
introMuteBtn.addEventListener("click",()=>{introVideo.muted=!introVideo.muted;});
introSkipBtn.addEventListener("click",finishIntro);
introVideo.addEventListener("ended",finishIntro);
function finishIntro(){
  introVideo.pause();intro.classList.remove("open");
  if(introTarget)window.location.href=introTarget;
}
</script>
</body>
</html>
